<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Thank You - AXCTL</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: { 500: '#3b82f6', 600: '#2563eb' },
            accent: { 500: '#a855f7' }
          }
        }
      }
    }
  </script>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');
    body { font-family: 'Inter', sans-serif; }
    .gradient-text {
      background: linear-gradient(135deg, #3b82f6 0%, #a855f7 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
  </style>
</head>
<body class="bg-gray-900 text-gray-100 min-h-screen flex items-center justify-center px-4">
  
  <div class="max-w-2xl w-full text-center">
    <!-- Success Icon -->
    <div class="mb-8">
      <svg class="w-24 h-24 mx-auto text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
      </svg>
    </div>
    
    <!-- Heading -->
    <h1 class="text-4xl md:text-5xl font-bold mb-4">
      <span class="gradient-text">Thank You!</span>
    </h1>
    
    <p class="text-xl text-gray-300 mb-8">
      Your purchase was successful
    </p>
    
    <!-- License Key Box (will be populated via JS) -->
    <div id="license-box" class="bg-gradient-to-br from-primary-500/10 to-accent-500/10 border-2 border-primary-500/30 rounded-2xl p-8 mb-8" style="display: none;">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <svg class="w-6 h-6 mr-2 text-primary-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1721 9z"></path>
        </svg>
        Your License Key
      </h2>
      
      <div class="bg-gray-900 rounded-lg p-4 mb-4 font-mono text-lg text-center">
        <span id="license-key" class="text-primary-400 select-all">Loading...</span>
      </div>
      
      <p class="text-sm text-gray-400 text-center mb-4">
        ‚ö†Ô∏è Save this license key! You'll need it to activate AXCTL on your Mac.
      </p>
      
      <button onclick="copyLicense()" class="w-full px-4 py-2 bg-primary-600 hover:bg-primary-700 rounded-lg font-semibold transition">
        üìã Copy License Key
      </button>
    </div>
    
    <!-- Installation Instructions -->
    <div class="bg-gray-800/50 border border-gray-700 rounded-2xl p-8 mb-8 text-left">
      <h2 class="text-2xl font-bold mb-4 flex items-center">
        <svg class="w-6 h-6 mr-2 text-green-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
        </svg>
        Installation Steps
      </h2>
      
      <div class="space-y-6 text-gray-300">
        <div class="flex items-start">
          <span class="text-2xl mr-3 font-bold text-primary-400">1</span>
          <div class="flex-1">
            <p class="font-semibold text-white mb-2">Install via npm</p>
            <div class="bg-gray-900 rounded-lg p-3 font-mono text-sm mb-2">
              npm install -g @axctl/core
            </div>
            <p class="text-sm text-gray-400">Or download from GitHub: <a href="https://github.com/damediacoadmin/axctl" class="text-primary-400 hover:text-primary-300">damediacoadmin/axctl</a></p>
          </div>
        </div>
        
        <div class="flex items-start">
          <span class="text-2xl mr-3 font-bold text-primary-400">2</span>
          <div class="flex-1">
            <p class="font-semibold text-white mb-2">Activate your license</p>
            <div class="bg-gray-900 rounded-lg p-3 font-mono text-sm mb-2">
              axctl activate YOUR-LICENSE-KEY
            </div>
            <p class="text-sm text-gray-400">Replace YOUR-LICENSE-KEY with the key above</p>
          </div>
        </div>
        
        <div class="flex items-start">
          <span class="text-2xl mr-3 font-bold text-primary-400">3</span>
          <div class="flex-1">
            <p class="font-semibold text-white mb-2">Start automating!</p>
            <div class="bg-gray-900 rounded-lg p-3 font-mono text-sm space-y-1">
              <div><span class="text-gray-500"># Desktop automation</span></div>
              <div>ax-helper query Safari</div>
              <div class="pt-2"><span class="text-gray-500"># iOS automation</span></div>
              <div>xcode-archive --project MyApp.xcodeproj</div>
            </div>
          </div>
        </div>
        
        <div class="flex items-start">
          <span class="text-2xl mr-3">üìß</span>
          <div>
            <p class="font-semibold text-white mb-1">Check Your Email</p>
            <p class="text-sm">We've also sent your license key and full installation guide to your email.</p>
          </div>
        </div>
      </div>
    </div>
    
    <!-- Action Buttons -->
    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <a href="https://github.com/axctl/axctl" 
         class="px-8 py-4 bg-primary-600 hover:bg-primary-700 text-white font-semibold rounded-xl transition-all">
        üìñ View Documentation
      </a>
      
      <a href="https://discord.gg/axctl" 
         class="px-8 py-4 bg-gray-800 hover:bg-gray-700 border border-gray-700 text-white font-semibold rounded-xl transition-all">
        üí¨ Join Discord Community
      </a>
    </div>
    
    <!-- Support -->
    <div class="mt-12 text-gray-400">
      <p>Need help? Email us at <a href="mailto:hello@axctl.dev" class="text-primary-500 hover:text-primary-400">hello@axctl.dev</a></p>
    </div>
  </div>
  
  <script>
    const API_URL = 'https://agile-enjoyment-production-82c8.up.railway.app';
    
    // Get session_id from URL
    const urlParams = new URLSearchParams(window.location.search);
    const sessionId = urlParams.get('session_id');
    
    // Copy license to clipboard
    function copyLicense() {
      const licenseKey = document.getElementById('license-key').textContent;
      navigator.clipboard.writeText(licenseKey).then(() => {
        alert('License key copied to clipboard! ‚úÖ');
      });
    }
    
    // Fetch license key from session
    if (sessionId) {
      fetch(`${API_URL}/session/${sessionId}`)
        .then(res => res.json())
        .then(data => {
          if (data.license_key) {
            document.getElementById('license-key').textContent = data.license_key;
            document.getElementById('license-box').style.display = 'block';
          }
        })
        .catch(err => {
          console.error('Failed to fetch license:', err);
          // License will be in email anyway
        });
    }
  </script>
  
</body>
</html>
